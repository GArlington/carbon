<?xml version="1.0" encoding="UTF-8" ?>

<package name="PhotoGallery">

	<enumeration name="AlbumAudience">
		<value name="Private" />
		<value name="MembersOnly" />
		<value name="Everyone" />
	</enumeration>

	<entity name="Gallery" implements="FlagActivation" comment="Photo gallery. A gallery can contain an unlimited number of photo albums." >
		<property name="Title"    type="text:128" constraint="required" />
		<property name="Keywords" type="text:100" />
	</entity>

	<entity name="Album" implements="FlagActivation" comment="Photo album." >
		<property name="Gallery"  type="Gallery" constraint="required" comment="Parent photo gallery." />
		<property name="Date"     type="time" constraint="required" comment="Creation date." />
		<property name="Access"   type="AlbumAudience" constraint="required" comment="Intended viewer audience." />
		<property name="Keywords" type="text:100" />
	</entity>

	<entity name="Photo" implements="FlagActivation" comment="Photo." >
		<property name="Album"       type="Album" constraint="required" comment="Parent album." />
		<property name="Date"        type="time" constraint="required" comment="Creation date." />
		<property name="Title"       type="text:100" comment="Short title." />
		<property name="Description" type="text:1K" comment="Description." />
		<property name="Keywords"    type="text:100" />
	</entity>

	<entity name="AccessControl" abstract="true" implements="TimeActivation" comment="Access control base." >
		<property name="Role" type="Role" comment="Role associated with permission." />
		<property name="Operation" type="text:30" comment="Access controlled operation." />
	</entity>

	<enumeration name="BaseAccess" >
		<value name="Read" value="R" />
		<value name="Write" value="W" />
		<value name="Create" value="C" />
		<value name="Delete" value="D" />
	</enumeration>

	<enumeration name="AlbumAccess" implements="BaseAccess" hint="acl(Album)">
		<value name="Admin" value="A" />
	</enumeration>

</package>