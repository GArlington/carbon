<?xml version="1.0" encoding="UTF-8" ?>

<package name="PhotoGallery">

	<enum name="AlbumPrivacy">
		<member name="Private" />
		<member name="MembersOnly" />
		<member name="Everyone" />
	</enum>

	<entity name="Gallery" implements="FlagActivation" comment="Photo gallery. A gallery can contain an unlimited number of photo albums." >
		<member name="Title"    type="text:128" constraint="required" />
		<member name="Keywords" type="text:100" />
	</entity>

	<entity name="Album" implements="FlagActivation" comment="Photo album." >
		<member name="Gallery"  type="Gallery" constraint="required" comment="Parent photo gallery." />
		<member name="Date"     type="time" constraint="required" comment="Creation date." />
		<member name="Access"   type="AlbumPrivacy" constraint="required" comment="Intended viewer audience." />
		<member name="Keywords" type="text:100" />
	</entity>

	<entity name="Photo" implements="FlagActivation" comment="Photo." >
		<member name="Album"       type="Album" constraint="required" comment="Parent album." />
		<member name="Date"        type="time" constraint="required" comment="Creation date." />
		<member name="Title"       type="text:100" comment="Short title." />
		<member name="Description" type="text:1K" comment="Description." />
		<member name="Keywords"    type="text:100" />
	</entity>

	<enum name="StandardOps" comment="Standard ACL operations" >
		<member name="View" />
		<member name="Create" />
		<member name="Modify" />
		<member name="Delete" />
		<member name="Admin" />
	</enum>

	<entity name="AccessControl" abstract="true" implements="TimeActivation" comment="Access control base." >
		<member name="Role" type="Role" comment="Role associated with permission." />
		<member name="Operation" type="text:30" comment="Access controlled operation." />
	</entity>

	<enum name="AlbumAccess" hint="acl(Album)">
		<member name="Read" />
	</enum>

</package>